# ==========================================
# providers.tf.jinja - Provider configuration
# ==========================================
# Default provider (for AFT management)
provider "aws" {
  region = "{{ provider_region }}"
  assume_role {
    role_arn = "{{ aft_admin_role_arn }}"
  }
  
  default_tags {
    tags = local.common_tags
  }
}

# Regional providers for quota management
provider "aws" {
  alias  = "region1"
  region = local.target_regions.region1
  assume_role {
    role_arn = "{{ target_admin_role_arn }}"
  }
  
  default_tags {
    tags = merge(local.common_tags, {
      Region = local.target_regions.region1
    })
  }
}

provider "aws" {
  alias  = "region2"
  region = local.target_regions.region2
  assume_role {
    role_arn = "{{ target_admin_role_arn }}"
  }
  
  default_tags {
    tags = merge(local.common_tags, {
      Region = local.target_regions.region2
    })
  }
}

provider "aws" {
  alias  = "region3"
  region = local.target_regions.region3
  assume_role {
    role_arn = "{{ target_admin_role_arn }}"
  }
  
  default_tags {
    tags = merge(local.common_tags, {
      Region = local.target_regions.region3
    })
  }
}